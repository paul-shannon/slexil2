<html>
  <head>
    <title>Hosting Tlingit Conversations at UAS</title>
  </head>


<style>
body{
   margin: 20px;
   background-color: beige;
}
</style>

<body>
<div>
<h3>Some Considerations For Hosting Tlingit Conversations at UAS</h3>
</div>

<h4>Two Essential File Types: Video (m4v) and HTML</h4>
<ol>
  <li> Video: eventually 100 of these, m4v format,  average size 500M to 1G.
  <li> HTML:  also 100, generated by me from ELAN xml (linguistic markup), about 100kb each.
  <li> We need upload access to the publicly visible url where these are hosted, so that
    we can add new videos, new HTML, as we work through the 100 Tlingit conversations.
  <li> These two files types could be hosted on the same server, for instance, at (using an invented name)
    <blockquote>
      <ul>
        <li>https://uas.alaska.edu/tlingitStories/
      </ul>
    </blockquote>
  <li> Or separate directories for the two files types:
    <ul>
      <li> https://uas.alaska.edu/tlingitStories/media/
      <li> https://uas.alaska.edu/tlingitStories/conversations/
    </ul>
	 the m4v video files must be configured for CORS and byte-ranges.
</ol>

<h4>Web Server Setup: CORS and byte-ranges</h4>
In addition to our need for upload capability, the web server (apache? nginx) you used
must be configured for CORS and byte-ranges.   CORS allows Javascript in our HTML
to access the m4v files as "cross-origin resources".  Byte-ranges allow our stock HTML5
video player to retrieve and display arbitrary segments of the large video file.
<p>

<h4> By Example: our current temporary setup</h4>

We have a satisfactory temporary setup which hosts six Tlingit Conversations.
One of these is found here:
<blockquote>
<a href="https://pshannon.net/tlingit-demos/01/" target="_blank">https://pshannon.net/tlingit-demos/01/</a>
</blockquote>
Note that the HTML5 video tag in that file refers to
<blockquote>
 https://igv-data.systemsbiology.net/slexil/1RuthNora2Wide.m4v
</blockquote>
This demonstrates how HTML and M4V <i>can</i> be separated.  But they need not be.
Note also that I am hosting these ~1G video files at my institute, and need to
move them to a UAS server soon.

<h4> An "About Box" to publicize the UAS association?</h4>

Talking with Jennifer Gross on 11 May 2023, the topic of UAS branding came up.
An early version of video 11 shows a mechanism which could be used for that (and
perhaps other, linguistic) purposes:

<blockquote>
  <a href="https://pshannon.net/tlingit-demos/12/helen.html" target="_blank"> conversation 12</a>
</blockquote>

Note that this HTML file links to
<blockquote>
   <b> https://igv-data.systemsbiology.net/slexil/1RuthNora2Wide.m4v</b>
</blockquote>
	

<h4>Web Sever Configuation for nginx</h4>
nginx is a popular web server, one we use at the Institute for Systems Biology for
virutal hosting of special projects.  Our primary institute web server (Apache, I believe)
dispatches certain urls to this separately installed, separately configured instance.
<p>
We run this nginx out of a Docker container.  It has access only to a nested
subdirectory, so security is good.  Here is a link to the nginx configuration file,
which specifies CORS support and byte-ranges:

<blockquote>
   <a href="https://pshannon.net/tlingit-demos/nginx-conf.txt" target="_blank">nginx.conf</a>
</blockquote>










</body>
</html>
